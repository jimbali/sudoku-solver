"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ramda_1 = require("ramda");
const remeda_1 = require("remeda");
const _groupN = (list, n) => {
    const _baseGroupN = (acc, item) => {
        const lastAcc = remeda_1.last(acc);
        const newLastAcc = ramda_1.cond([
            [ramda_1.isNil, ramda_1.always([item])],
            [remeda_1.equals(n), ramda_1.always([item])],
            // eslint-disable-next-line @typescript-eslint/no-unused-vars
            [ramda_1.T, (_) => remeda_1.concat(remeda_1.last(acc), [item])],
        ])(lastAcc === null || lastAcc === void 0 ? void 0 : lastAcc.length);
        return newLastAcc.length === 1 ? remeda_1.concat(acc, [newLastAcc]) : remeda_1.concat(ramda_1.dropLast(1, acc), [newLastAcc]);
    };
    return remeda_1.reduce(list, _baseGroupN, []);
};
// eslint-disable-next-line functional/functional-parameters,@typescript-eslint/explicit-function-return-type
function groupN() {
    // eslint-disable-next-line prefer-rest-params,functional/functional-parameters
    return remeda_1.purry(_groupN, arguments);
}
exports.groupN = groupN;
